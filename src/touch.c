/*********************************************************************************
 *
 *  main.c
 *
 *  Created on: Aug 11, 2019
 *      Author: Tanner Leland
 *       Brief: Touch interface.
 *
 ********************************************************************************/


/*--------------------------------------------------------------------------------
                                   INCLUDES
--------------------------------------------------------------------------------*/

#include <stdio.h>
#include <stm32f3xx.h>

#include "touch.h"
#include "gpio.h"


/*--------------------------------------------------------------------------------
                                LITERAL CONSTANTS
--------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------
                                      TYPES
--------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------
                               MEMORY_CONSTANTS
--------------------------------------------------------------------------------*/

static const gpio_type touch_io = { GPIOA,  2 };


/*--------------------------------------------------------------------------------
                               GLOBAL VARIABLES
--------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------
                               STATIC VARIABLES
--------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------
                                  PROCEDURES
--------------------------------------------------------------------------------*/


/*************************************************************************
 *
 *  Procedure:
 *      touch_init
 *
 *  Description:
 *      Initialize the touch interface
 *
 ************************************************************************/
void touch_init
    (
    void
    )
{
    gpio_cfg_input( &touch_io );

} /* touch_init() */


/*************************************************************************
 *
 *  Procedure:
 *      touch_read
 *
 *  Description:
 *      Read the touch sensor state.
 *
 ************************************************************************/
touch_state_type touch_read
    (
    void
    )
{
    return( gpio_input_read( &touch_io ) );

} /* touch_read */
